# GitHub Secrets Setup Guide

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞!

**–¢–µ–∫—É—â–∞—è –æ—à–∏–±–∫–∞**: `Error: missing server host` –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ GitHub Secrets –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã.

## üöÄ –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ**: https://github.com/novaconnectkz/frontend_axenta/settings/secrets/actions
2. **–ù–∞–∂–º–∏—Ç–µ**: "New repository secret"
3. **–î–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã** (—Å–º. —Å–ø–∏—Å–æ–∫ –Ω–∏–∂–µ)
4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ workflow** –ø–æ–≤—Ç–æ—Ä–Ω–æ

## –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã GitHub Actions –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:

### 1. HOST
- **–û–ø–∏—Å–∞–Ω–∏–µ**: IP-–∞–¥—Ä–µ—Å –∏–ª–∏ –¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- **–ü—Ä–∏–º–µ—Ä**: `192.168.1.100` –∏–ª–∏ `your-domain.com`
- **–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å**: –£–∑–Ω–∞–π—Ç–µ —É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Å–µ—Ä–≤–µ—Ä–∞ –∏–ª–∏ —Ö–æ—Å—Ç–∏–Ω–≥-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

### 2. USERNAME  
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- **–ü—Ä–∏–º–µ—Ä**: `root`, `ubuntu`, `deploy`
- **–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å**: –û–±—ã—á–Ω–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º —Å–µ—Ä–≤–µ—Ä–∞

### 3. PRIVATE_KEY
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü—Ä–∏–≤–∞—Ç–Ω—ã–π SSH –∫–ª—é—á –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É
- **–§–æ—Ä–º–∞—Ç**: –ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞, –≤–∫–ª—é—á–∞—è –∑–∞–≥–æ–ª–æ–≤–∫–∏
- **–ü—Ä–∏–º–µ—Ä**:
```
-----BEGIN OPENSSH PRIVATE KEY-----
b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAFwAAAAdzc2gtcn
...
-----END OPENSSH PRIVATE KEY-----
```

### 4. PORT (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ—Ä—Ç SSH (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 22)
- **–ü—Ä–∏–º–µ—Ä**: `22`, `2222`
- **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é**: –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ—Ä—Ç 22

## –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã –≤ GitHub

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
2. –û—Ç–∫—Ä–æ–π—Ç–µ **Settings** ‚Üí **Secrets and variables** ‚Üí **Actions**
3. –ù–∞–∂–º–∏—Ç–µ **New repository secret**
4. –í–≤–µ–¥–∏—Ç–µ –∏–º—è —Å–µ–∫—Ä–µ—Ç–∞ (HOST, USERNAME, PRIVATE_KEY, PORT)
5. –í—Å—Ç–∞–≤—å—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
6. –ù–∞–∂–º–∏—Ç–µ **Add secret**

## –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SSH –∫–ª—é—á–µ–π

–ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Ç SSH –∫–ª—é—á–µ–π, —Å–æ–∑–¥–∞–π—Ç–µ –∏—Ö:

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ SSH –∫–ª—é—á–∞
ssh-keygen -t ed25519 -C "deploy@frontend-axenta"

# –ò–ª–∏ –¥–ª—è —Å—Ç–∞—Ä—ã—Ö —Å–∏—Å—Ç–µ–º
ssh-keygen -t rsa -b 4096 -C "deploy@frontend-axenta"
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä
ssh-copy-id -i ~/.ssh/id_ed25519.pub username@your-server-host

# –ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –≤—Ä—É—á–Ω—É—é –≤ ~/.ssh/authorized_keys
cat ~/.ssh/id_ed25519.pub >> ~/.ssh/authorized_keys
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ:

```bash
ssh -i ~/.ssh/id_ed25519 username@your-server-host
```

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

1. **–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Git**:
```bash
git --version
```

2. **–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Node.js –∏ npm**:
```bash
node --version
npm --version
```

3. **–ù–∞—Å—Ç—Ä–æ–µ–Ω nginx**:
```bash
sudo systemctl status nginx
```

4. **–°—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø—Ä–æ–µ–∫—Ç–∞**:
```bash
ls -la /var/www/frontend_axenta
```

5. **–ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**:
```bash
# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –∑–∞–ø–∏—Å—å –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
sudo chown -R username:username /var/www/frontend_axenta

# –ò –ø—Ä–∞–≤–∞ –Ω–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É nginx
sudo visudo
# –î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É: username ALL=(ALL) NOPASSWD: /bin/systemctl reload nginx
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏
- ‚úÖ –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ SSH –∫–ª—é—á–∏
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –∏ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
- ‚ùå –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏ –≤ –∫–æ–¥–µ

## –û—Ç–ª–∞–¥–∫–∞

–ï—Å–ª–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **–°–µ–∫—Ä–µ—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**
2. **SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ**
3. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–∞–≤–∞**
4. **–°–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –∞–¥—Ä–µ—Å—É**
5. **–ü–æ—Ä—Ç SSH –æ—Ç–∫—Ä—ã—Ç –≤ —Ñ–∞–π—Ä–≤–æ–ª–µ**

## Workflow —Ñ–∞–π–ª—ã

–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ workflow —Ñ–∞–π–ª—ã:

- `main.yml` - –û—Å–Ω–æ–≤–Ω–æ–π workflow —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- `deploy.yml` - –ü—Ä–æ—Å—Ç–æ–π workflow –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è  
- `deploy-safe.yml` - –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π workflow —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
- `deploy-production.yml` - –ü—Ä–æ–¥–∞–∫—à–Ω workflow —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –∏ –±—ç–∫–∞–ø–∞–º–∏

–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –¥–ª—è –≤–∞—à–∏—Ö –Ω—É–∂–¥ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `deploy-production.yml` –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏.
