# üîê –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª "–í–æ–π—Ç–∏ –≤ CMS" –∏ "–í–æ–π—Ç–∏ –≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥"

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è –≤—Ö–æ–¥–∞ –≤ CMS –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å —Ç–æ–∫–µ–Ω–æ–º –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ API Axenta Cloud.

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–í–æ–π—Ç–∏ –≤ CMS** - –¥–ª—è –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- **–í–æ–π—Ç–∏ –≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–∏ —Å URL –¥–ª—è –≤—Ö–æ–¥–∞
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### API –≠–Ω–¥–ø–æ–∏–Ω—Ç
```
POST https://axenta.cloud/api/cms/users/login_as/
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞
```json
{
  "userId": number,    // ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (item.adminId)
  "type": string       // "cms" –∏–ª–∏ "monitoring"
}
```

### –û—Ç–≤–µ—Ç API
```json
{
  "redirectUrl": "https://axenta.cloud/auth/login/?authToken=token_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
}
```

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. `/src/services/accountsService.ts`
–î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `loginAs()`:
```typescript
async loginAs(userId: number, type: 'cms' | 'monitoring'): Promise<{ redirectUrl: string }>
```

### 2. `/src/views/AccountsPage.vue`
–û–±–Ω–æ–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã:
- `loginToCms()` - –≤—Ö–æ–¥ –≤ CMS –¥–ª—è –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
- `loginToMonitoring()` - –≤—Ö–æ–¥ –≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–ª—è –≤—Å–µ—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤

## üé® –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ –º–µ–Ω—é –¥–µ–π—Å—Ç–≤–∏–π –≤ —Ç–∞–±–ª–∏—Ü–µ –∞–∫–∫–∞—É–Ω—Ç–æ–≤:
- **"–í–æ–π—Ç–∏ –≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥"** - –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- **"–í–æ–π—Ç–∏ –≤ CMS"** - –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤

## ‚úÖ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "–í–æ–π—Ç–∏ –≤ CMS" –∏–ª–∏ "–í–æ–π—Ç–∏ –≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥"
2. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ `adminId` —É –∞–∫–∫–∞—É–Ω—Ç–∞
3. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è POST –∑–∞–ø—Ä–æ—Å –∫ `/api/cms/users/login_as/`
4. –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –æ—Ç–≤–µ—Ç–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–æ–≤–∞—è –≤–∫–ª–∞–¥–∫–∞ —Å `redirectUrl`
5. –ü—Ä–∏ –æ—à–∏–±–∫–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª `test_login_as.html` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã API:
- –¢–µ—Å—Ç –≤—Ö–æ–¥–∞ –≤ CMS
- –¢–µ—Å—Ç –≤—Ö–æ–¥–∞ –≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥  
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ URL –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ —Ç–æ–∫–µ–Ω
- –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞–ª–∏—á–∏—è `adminId`
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API
- –û—Ç–∫—Ä—ã—Ç–∏–µ —Å—Å—ã–ª–æ–∫ –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏)

## üì± –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–°–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Ç–æ–ª—å–∫–æ –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–æ–∫:
- **–û—à–∏–±–∫–∏** - –¥–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ adminId)
- **–£—Å–ø–µ—à–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã** - –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –±–µ–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è –ª—É—á—à–µ–≥–æ UX

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–£—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏" (`/accounts`)
2. –ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –≤ —Ç–∞–±–ª–∏—Ü–µ
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –º–µ–Ω—é –¥–µ–π—Å—Ç–≤–∏–π (—Ç—Ä–∏ —Ç–æ—á–∫–∏)
4. –í—ã–±–µ—Ä–∏—Ç–µ "–í–æ–π—Ç–∏ –≤ CMS" –∏–ª–∏ "–í–æ–π—Ç–∏ –≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥"
5. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä–æ–µ—Ç –Ω–æ–≤—É—é –≤–∫–ª–∞–¥–∫—É —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
