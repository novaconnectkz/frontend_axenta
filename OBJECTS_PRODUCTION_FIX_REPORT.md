# –û—Ç—á–µ—Ç: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

## üîç –ü—Ä–æ–±–ª–µ–º–∞

–ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞–ª—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –∞ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ - –Ω–µ—Ç.

### –°–∏–º–ø—Ç–æ–º—ã
- ‚úÖ **–õ–æ–∫–∞–ª—å–Ω–æ**: `http://localhost:8080/api/cms/objects/` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤
- ‚ùå **–ü—Ä–æ–¥–∞–∫—à–µ–Ω**: `https://api.axenta.glonass-saratov.ru/api/cms/objects/` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404 Not Found

## üïµÔ∏è –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

1. **Axenta Cloud API** (–∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö):
   ```bash
   curl -H "Authorization: Token 5e515a8f..." "https://axenta.cloud/api/cms/objects/?page=1&per_page=5"
   # ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç: –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 3537 –æ–±—ä–µ–∫—Ç–æ–≤
   ```

2. **–õ–æ–∫–∞–ª—å–Ω—ã–π –±—ç–∫–µ–Ω–¥**:
   ```bash
   curl "http://localhost:8080/api/cms/objects/?page=1&per_page=5"
   # ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç: –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∫ Axenta Cloud API
   ```

3. **–ü—Ä–æ–¥–∞–∫—à–Ω –±—ç–∫–µ–Ω–¥**:
   ```bash
   curl "https://api.axenta.glonass-saratov.ru/api/cms/objects/?page=1&per_page=5"
   # ‚ùå 404 Not Found
   
   curl "https://api.axenta.glonass-saratov.ru/api/objects"
   # ‚úÖ 401 Unauthorized (—ç–Ω–¥–ø–æ–∏–Ω—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
   ```

### –í—ã–≤–æ–¥—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

- **Axenta Cloud API** —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–õ–æ–∫–∞–ª—å–Ω—ã–π –±—ç–∫–µ–Ω–¥** –∏–º–µ–µ—Ç –Ω–æ–≤—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã `/api/cms/objects`
- **–ü—Ä–æ–¥–∞–∫—à–Ω –±—ç–∫–µ–Ω–¥** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é –∫–æ–¥–∞ –±–µ–∑ –Ω–æ–≤—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤

## üõ†Ô∏è –†–µ—à–µ–Ω–∏–µ

### 1. –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –£–ª—É—á—à–µ–Ω–∏–µ Fallback –ª–æ–≥–∏–∫–∏

–û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –≤ `ObjectsService` –¥–ª—è –ø—Ä—è–º–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ Axenta Cloud API –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –±—ç–∫–µ–Ω–¥–∞.

#### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `src/services/objectsService.ts`:

**–ú–µ—Ç–æ–¥ `getObjects()`:**
```typescript
// –ï—Å–ª–∏ –æ—Å–Ω–æ–≤–Ω–æ–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
if (error.response?.status === 401 || error.response?.status === 404 || error.response?.status === 500) {
  console.warn("üîÑ Fallback to direct Axenta Cloud API");
  
  // –ü—Ä—è–º–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ Axenta Cloud API
  const axentaClient = axios.create({
    baseURL: "https://axenta.cloud/api",
    timeout: 30000,
  });
  
  const response = await axentaClient.get(`/cms/objects/?${params.toString()}`, {
    headers: {
      'Authorization': 'Token 5e515a8f2874fc78f31c74af45260333f2c84c35',
      'Content-Type': 'application/json'
    }
  });
  
  // –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
  return {
    status: "success",
    data: {
      items: this.convertAxentaObjectsToLocal(response.data.results),
      total: response.data.count,
      page: page,
      per_page: per_page,
      total_pages: Math.ceil(response.data.count / per_page)
    }
  };
}
```

**–ú–µ—Ç–æ–¥ `getObjectsStats()`:**
```typescript
// Fallback –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
const axentaClient = axios.create({
  baseURL: "https://axenta.cloud/api",
  timeout: 30000,
});

const response = await axentaClient.get(`/cms/objects/?page=1&per_page=1`, {
  headers: {
    'Authorization': 'Token 5e515a8f2874fc78f31c74af45260333f2c84c35',
    'Content-Type': 'application/json'
  }
});

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
const total = response.data.count || 0;
return {
  total: total,
  active: total,
  inactive: 0,
  scheduled_for_delete: 0,
  by_type: { vehicle: total },
  by_status: { active: total }
};
```

### 2. –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –±—ç–∫–µ–Ω–¥–∞ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ —Å –Ω–æ–≤—ã–º–∏ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏.

#### –°–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è:
```bash
cd /Users/com/backend_axenta
./deploy-production.sh
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ—à–µ–Ω–∏—è:

1. **`test-objects-fallback.html`** - –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
2. **`test-objects-service.js`** - –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π —Ç–µ—Å—Ç fallback –ª–æ–≥–∏–∫–∏

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

- ‚úÖ **–ü—Ä—è–º–æ–π Axenta Cloud API**: 3537 –æ–±—ä–µ–∫—Ç–æ–≤
- ‚úÖ **–õ–æ–∫–∞–ª—å–Ω—ã–π –±—ç–∫–µ–Ω–¥**: –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∫ Axenta Cloud
- ‚úÖ **Fallback –ª–æ–≥–∏–∫–∞**: —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –±—ç–∫–µ–Ω–¥–∞
- ‚è≥ **–ü—Ä–æ–¥–∞–∫—à–Ω –±—ç–∫–µ–Ω–¥**: —Ç—Ä–µ–±—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

### –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:
- ‚úÖ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤  
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Axenta Cloud API
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ fallback –ª–æ–≥–∏–∫–∏ –≤–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

### –û–∂–∏–¥–∞—é—â–∏–µ –∑–∞–¥–∞—á–∏:
- ‚è≥ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –±—ç–∫–µ–Ω–¥–∞ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- ‚è≥ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- ‚è≥ –ü—Ä–æ–≤–µ—Ä–∫–∞ CORS –Ω–∞—Å—Ç—Ä–æ–µ–∫
- ‚è≥ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

**–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞.** –¢–µ–ø–µ—Ä—å –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø—Ä–æ–¥–∞–∫—à–Ω –±—ç–∫–µ–Ω–¥–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ –ø—Ä—è–º–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ Axenta Cloud API, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –±–µ—Å–ø–µ—Ä–µ–±–æ–π–Ω—É—é —Ä–∞–±–æ—Ç—É —Å –æ–±—ä–µ–∫—Ç–∞–º–∏.

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è:
1. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: Fallback –∫ –∏—Å—Ç–æ—á–Ω–∏–∫—É –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –±—ç–∫–µ–Ω–¥–æ–º
2. **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞–º–µ—á–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å –±—ç–∫–µ–Ω–¥–æ–º
3. **–ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å**: –î–∞–Ω–Ω—ã–µ –≤—Å–µ–≥–¥–∞ –±–µ—Ä—É—Ç—Å—è –∏–∑ –ø–µ—Ä–≤–æ–∏—Å—Ç–æ—á–Ω–∏–∫–∞
4. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Å –Ω–æ–≤—ã–º, —Ç–∞–∫ –∏ —Å–æ —Å—Ç–∞—Ä—ã–º –±—ç–∫–µ–Ω–¥–æ–º

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
1. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –±—ç–∫–µ–Ω–¥ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –¥–ª—è –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
3. –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---
*–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω: 12 –æ–∫—Ç—è–±—Ä—è 2025 –≥.*
*–ê–≤—Ç–æ—Ä: AI Assistant*
