# ðŸš¨ Ð˜ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð² Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ðµ

## ðŸ” ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:
Ð¤Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´ Ð² Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ðµ Ð¾Ð±Ñ€Ð°Ñ‰Ð°ÐµÑ‚ÑÑ Ð½Ð°Ð¿Ñ€ÑÐ¼ÑƒÑŽ Ðº `https://axenta.cloud/api/auth/login/` Ð²Ð¼ÐµÑÑ‚Ð¾ Ð½Ð°ÑˆÐµÐ³Ð¾ Ð±ÑÐºÐµÐ½Ð´Ð° Ð½Ð° `https://api.axenta.glonass-saratov.ru/api/auth/login/`.

ÐžÑˆÐ¸Ð±ÐºÐ°: `403 Forbidden - "You are not allowed to login to this domain"`

## âœ… Ð ÐµÑˆÐµÐ½Ð¸Ðµ:

### 1. Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ„Ð°Ð¹Ð» `.env.production` Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ:

```bash
# Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ„Ð°Ð¹Ð» ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸ Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ð°
cat > .env.production << 'EOF'
# ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´Ð° Axenta Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ð°

# URL Ð±ÑÐºÐµÐ½Ð´Ð° Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ð°
VITE_BACKEND_URL=https://api.axenta.glonass-saratov.ru

# WebSocket URL Ð´Ð»Ñ Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ (Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½)
VITE_WS_BASE_URL=wss://api.axenta.glonass-saratov.ru

# ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
VITE_APP_NAME=Axenta CRM

# Ð’ÐµÑ€ÑÐ¸Ñ API
VITE_API_VERSION=v1

# Ð ÐµÐ¶Ð¸Ð¼ Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ð°
VITE_APP_ENV=production

# Ð¢Ð°Ð¹Ð¼Ð°ÑƒÑ‚ Ð´Ð»Ñ API Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² (Ð² Ð¼Ð¸Ð»Ð»Ð¸ÑÐµÐºÑƒÐ½Ð´Ð°Ñ…)
VITE_API_TIMEOUT=10000
EOF
```

### 2. ÐŸÐµÑ€ÐµÑÐ¾Ð±Ñ€Ð°Ñ‚ÑŒ Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´:

```bash
# ÐŸÐµÑ€ÐµÑÐ¾Ð±Ñ€Ð°Ñ‚ÑŒ Ñ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ð¹ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÐµÐ¹
npm run build
```

### 3. ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ:

```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ‡Ñ‚Ð¾ Ñ„Ð°Ð¹Ð» ÑÐ¾Ð·Ð´Ð°Ð»ÑÑ
cat .env.production

# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ‡Ñ‚Ð¾ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¿Ð¾Ð´Ñ…Ð²Ð°Ñ‚Ñ‹Ð²Ð°ÑŽÑ‚ÑÑ
grep -r "api.axenta.glonass-saratov.ru" dist/
```

## ðŸ”§ Ð§Ñ‚Ð¾ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¾ Ð² ÐºÐ¾Ð´Ðµ:

### 1. `/src/config/env.ts`:
```typescript
// Ð‘Ñ‹Ð»Ð¾:
backendUrl: getEnvVar("VITE_BACKEND_URL", "https://axenta.cloud"),

// Ð¡Ñ‚Ð°Ð»Ð¾:
backendUrl: getEnvVar("VITE_BACKEND_URL", "https://api.axenta.glonass-saratov.ru"),
```

### 2. `/vite.config.ts`:
```typescript
// Ð˜ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ñ‹ Ð²ÑÐµ Ð´ÐµÑ„Ð¾Ð»Ñ‚Ð½Ñ‹Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ñ axenta.cloud Ð½Ð° api.axenta.glonass-saratov.ru
```

## ðŸŽ¯ Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚:

ÐŸÐ¾ÑÐ»Ðµ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ð±ÑƒÐ´ÑƒÑ‚ Ð¸Ð´Ñ‚Ð¸ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾:
- âŒ Ð‘Ñ‹Ð»Ð¾: `POST https://axenta.cloud/api/auth/login/` â†’ 403 Forbidden
- âœ… Ð¡Ñ‚Ð°Ð»Ð¾: `POST https://api.axenta.glonass-saratov.ru/api/auth/login/` â†’ 200 OK

## ðŸš€ Ð”ÐµÐ¿Ð»Ð¾Ð¹:

```bash
# 1. Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ .env.production (ÑÐ¼. Ð²Ñ‹ÑˆÐµ)
# 2. ÐŸÐµÑ€ÐµÑÐ¾Ð±Ñ€Ð°Ñ‚ÑŒ Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´
npm run build

# 3. Ð—Ð°Ð´ÐµÐ¿Ð»Ð¾Ð¸Ñ‚ÑŒ
# (Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð²Ð°Ñˆ Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ð¹ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ Ð´ÐµÐ¿Ð»Ð¾Ñ)
```

## âœ… ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ°:

ÐŸÐ¾ÑÐ»Ðµ Ð´ÐµÐ¿Ð»Ð¾Ñ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð´Ð¾Ð»Ð¶Ð½Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ð±ÐµÐ· Ð¾ÑˆÐ¸Ð±Ð¾Ðº 403.
