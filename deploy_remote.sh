#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è —á–µ—Ä–µ–∑ SSH
SERVER_IP="194.87.143.169"
SERVER_USER="root"
SERVER_PASS="g-t+XM#3an2YJM"

echo "üöÄ –ù–∞—á–∏–Ω–∞–µ–º —É–¥–∞–ª–µ–Ω–Ω—ã–π –¥–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä $SERVER_IP"

# –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
REMOTE_COMMANDS="
set -e
echo 'üìç –¢–µ–∫—É—â–∞—è –ø–∞–ø–∫–∞:' && pwd
echo 'üìã –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞:'
systemctl status axenta-backend || echo '–°–µ—Ä–≤–∏—Å –Ω–µ –Ω–∞–π–¥–µ–Ω'

echo 'üìÅ –ò—â–µ–º –ø–∞–ø–∫—É —Å backend:'
find /opt -name '*axenta*' -type d 2>/dev/null || echo '–ü–∞–ø–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ /opt'
find /var/www -name '*axenta*' -type d 2>/dev/null || echo '–ü–∞–ø–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ /var/www'
find /home -name '*axenta*' -type d 2>/dev/null || echo '–ü–∞–ø–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ /home'

echo 'üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–æ—Ü–µ—Å—Å—ã Go:'
ps aux | grep -i go || echo 'Go –ø—Ä–æ—Ü–µ—Å—Å—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã'

echo 'üåê –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ—Ä—Ç—ã:'
netstat -tlnp | grep :8080 || echo '–ü–æ—Ä—Ç 8080 –Ω–µ –∑–∞–Ω—è—Ç'

echo 'üì¶ –ü—Ä–æ–≤–µ—Ä—è–µ–º Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:'
find / -name '.git' -type d 2>/dev/null | head -10 || echo 'Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã'
"

echo "–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≥–æ—Ç–æ–≤—ã"
echo "–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω—É–∂–µ–Ω –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π SSH —Å –ø–∞—Ä–æ–ª–µ–º"
echo ""
echo "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤—Ä—É—á–Ω—É—é:"
echo "ssh -o StrictHostKeyChecking=no root@$SERVER_IP"
echo "–ü–∞—Ä–æ–ª—å: $SERVER_PASS"
echo ""
echo "–ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:"
echo "$REMOTE_COMMANDS"
